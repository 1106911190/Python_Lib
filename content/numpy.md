## numpy

numpy 是一个科学计算的库，可以用当做数组使用，提供了矩阵计算的功能，有很多强大的函数。

## numpy 的数组

### 创建数组

用 numpy 创建数组和平常创建数组基本一样，还有创建多维数组，创建元祖，和查看数据类型，只不过数组的元素都必须是数字。

```
>>> import numpy as np
>>> print np.version.version
1.6.1
>>> a = np.array([1,2,3,4,5])
>>> a
array([1, 2, 3, 4, 5])
>>> type(a)
<type 'numpy.ndarray'>
>>> a.dtype
dtype('int32')
>>>
>>> b = np.array(['a','b',3,a])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: cannot set an array element with a sequence
>>> b = np.array((5,6,7,8,2))
>>> b
array([5, 6, 7, 8, 2])
>>> c = np.array([[1,2,3],[4,5,6],[7,8,9]])
>>> len(c)
3
>>> c
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
```

数组的大小可以通过 len 函数或者是其 shape 属性获得，也可以通过其 shape 属性修改。

```
>>> a = np.array([1,2,3,4,5])
>>> a
array([1, 2, 3, 4, 5])
>>> c = np.array([[1,2,3],[4,5,6],[7,8,9]])
>>> c
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
>>> len(a)
5
>>> a.shape
(5,)
>>> c.shape
(3, 3)
>>> c = np.array([[1,2,3,4],[4,5,6,7],[8,9,10,11]])
>>> c
array([[ 1,  2,  3,  4],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
>>> c.shape
(3, 4)
>>> c.shape = 4,3
>>> c
array([[ 1,  2,  3],
       [ 4,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11]])
>>> c.shape = 2,-1
>>> c
array([[ 1,  2,  3,  4,  4,  5],
       [ 6,  7,  8,  9, 10, 11]])
```

可以通过 reshape 方法改变数组的尺寸，得到一个新的数组，原数组不变，而且两个数组共享数据存储空间。

```
>>> a = np.array([1,2,3,4])
>>> a
array([1, 2, 3, 4])
>>> b = a.reshape((2,2))
>>> b
array([[1, 2],
       [3, 4]])
>>> a[0]=10
>>> a
array([10,  2,  3,  4])
>>> b
array([[10,  2],
       [ 3,  4]])
```

可以通过 dtype 属性获得数组里元素的类型，也可以通过 dtype 属性来设定元素类型。

```
>>> a = np.array([1,2,3,4])
>>> a
array([1, 2, 3, 4])
>>> a.dtype
dtype('int32')
>>> b = np.array([[1,2,3,4],[5,6,7,8],[9,10,11,12]],dtype=np.float)
>>> b
array([[  1.,   2.,   3.,   4.],
       [  5.,   6.,   7.,   8.],
       [  9.,  10.,  11.,  12.]])
>>> b.dtype
dtype('float64')
```

### 生成数组

像 Python 里的数组除了直接创建之外，还可以使用某些函数式表达来生成数组，在 numpy 中则可以使用一些类似 range 的方法生成数组。

1. arange函数类似于 python 的 range 函数，通过指定开始值、终值和步长来创建一维数组，注意数组不包括终值:

```
>>> np.arange(1,2,0.1)
array([ 1. ,  1.1,  1.2,  1.3,  1.4,  1.5,  1.6,  1.7,  1.8,  1.9])
```

2. linspace 函数通过指定开始值、终值和元素个数来创建一维数组，可以通过 endpoint 关键字指定是否包括终值，缺省设置是包括终值:

```
>>> np.linspace(1,2,10)
array([ 1.        ,  1.11111111,  1.22222222,  1.33333333,  1.44444444,
        1.55555556,  1.66666667,  1.77777778,  1.88888889,  2.        ])
```

3. logspace 函数和 linspace 类似，不过它创建等比数列，下面的例子产生10(10^1)到100(10^2)、有20个元素的等比数列:

```
>>> np.logspace(1,2,10)
array([  10.        ,   12.91549665,   16.68100537,   21.5443469 ,
         27.82559402,   35.93813664,   46.41588834,   59.94842503,
         77.42636827,  100.        ])
```


#### 参考链接

[NumPy-快速处理数据](http://old.sebug.net/paper/books/scipydoc/numpy_intro.html#)
[Python中的Numpy入门教程](http://www.jb51.net/article/49397.htm)